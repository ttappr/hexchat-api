<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `hexchat_api` crate."><meta name="keywords" content="rust, rustlang, rust-lang, hexchat_api"><title>hexchat_api - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../hexchat_api/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate hexchat_api</p><div class="block version"><p>Version 0.1.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all hexchat_api's items</p></a><div class="block items"><ul><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><script>window.sidebarCurrent = {name: "hexchat_api", ty: "mod", relpath: "../"};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/hexchat_api/lib.rs.html#2-42" title="goto source code">[src]</a></span><span class="in-band">Crate <a class="mod" href="">hexchat_api</a></span></h1><div class="docblock"><p>This crate provides a Rust interface to the 
<a href="https://hexchat.readthedocs.io/en/latest/plugins.html">Hexchat Plugin Interface</a>
The primary object of the interface is 
<a href="https://ttappr.github.io/hexchat_api/hexchat_api/struct.Hexchat.html">Hexchat</a>,
which exposes an interface with functions that mirror the C functions 
listed on the Hexchat docs page linked above.  </p>
</div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<table><tr class="module-item"><td><a class="macro" href="macro.cbuf.html" title="hexchat_api::cbuf macro">cbuf</a></td><td class="docblock-short"><p><code>&amp;str -&gt; *const c_char</code></p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.dll_entry_points.html" title="hexchat_api::dll_entry_points macro">dll_entry_points</a></td><td class="docblock-short"><p><code>dll_entry_points()</code> makes it very easy to set up your plugin's DLL
interface required by the Hexchat loader. This macro generates the necessary
DLL entry points that Hexchat looks for when a DLL is being loaded.
Normal Rust functions having the required signatures can be passed to the
macro like so:</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.outp.html" title="hexchat_api::outp macro">outp</a></td><td class="docblock-short"><p>Reduces the syntax required to output formatted text to the current
hexchat window. Internally it invokes 
<code>hexchat.print(&amp;format!(&quot;&lt;format-string&gt;&quot;, arg1, arg2, ...)</code>.
Using the macro, this becomes 
<code>outp!(hc, &quot;&lt;format_string&gt;&quot;, arg1, arg2, ...)</code>. To print from another 
thread <code>outpth!()</code> can be used.</p>
</td></tr><tr class="module-item"><td><a class="macro" href="macro.outpth.html" title="hexchat_api::outpth macro">outpth</a></td><td class="docblock-short"><p>Similar to <code>outp!()</code>, that can be used from spawned threads to print to
the active Hexchat window. This should not be invoked from the Hexchat
main thread.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.AsyncResult.html" title="hexchat_api::AsyncResult struct">AsyncResult</a></td><td class="docblock-short"><p>A result object that allows callbacks operating on a thread to send their
return value to a receiver calling <code>get()</code> from another thread. Whether
return data needs to be transferred or not, this object can be used to wait
on the completion of a callback, thus providing synchronization between
threads.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Context.html" title="hexchat_api::Context struct">Context</a></td><td class="docblock-short"><p>Any channel in Hexchat has an associated IRC network name and channel name.
The network name and channel name are closely associated with the Hexchat
concept of contexts. Hexchat contexts can also be thought of as the 
tabs, or windows, open in the UI that have the user joined to their various
&quot;chat rooms&quot;. To access a specific chat window in Hexchat, its context 
can be acquired and used. This library's <code>Context</code> objects represent the
Hexchat contexts and can be used to interact with the specific 
channels/windows/tabs that he user has open. For instance if your plugin
needs to output only to specific channels, rather than the default window
(which is the one currently open) - it can acquire the appropriate context
using <code>Context::find(&quot;some-network&quot;, &quot;some-channel&quot;)</code>, and use the object
returned to invoke a command, <code>context.command(&quot;SAY hello!&quot;)</code>, or print, 
<code>context.print(&quot;Hello!&quot;)</code>, or perform other operations.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.EventAttrs.html" title="hexchat_api::EventAttrs struct">EventAttrs</a></td><td class="docblock-short"><p>Mirrors the C struct for <code>hexchat_event_attrs</code>. It holds the timestamps
for the callback invocations for callbacks registered using 
<code>hexchat_print_attrs()</code>, and similar commands.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Hexchat.html" title="hexchat_api::Hexchat struct">Hexchat</a></td><td class="docblock-short"><p>This struct mirrors the C Hexchat struct passed to the plugin from
Hexchat when the plugin is loaded. Hexchat's API is implemented as a struct
holding callbacks to its native functions. <em>Don't modify</em> this struct,
unless there has been a change to the layout of it in the Hexchat C code
base.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Hook.html" title="hexchat_api::Hook struct">Hook</a></td><td class="docblock-short"><p>A wrapper for Hexchat callback hooks. These hooks are returned when 
registering callbacks and can be used to unregister (unhook) them.
<code>Hook</code>s can be cloned to share a reference to the same callback hook.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ListItem.html" title="hexchat_api::ListItem struct">ListItem</a></td><td class="docblock-short"><p>An eagerly constructed list item for vectors created from a <code>ListIterator</code>.
For <code>ThreadSafeListIterator</code> it can sometimes be quicker to eagerly convert
it to a <code>Vec&lt;ListItem&gt;</code> using <code>ThreadSafeListIterator.to_vec()</code> and then
iterate over the resulting vector. The conversion happens on the main thread
and is done all at once.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ListIterator.html" title="hexchat_api::ListIterator struct">ListIterator</a></td><td class="docblock-short"><p>The <code>ListIterator</code> wraps the list pointer and related functions of Hexchat.
It provides are more Rust OO interface. The iterator returns clones of
itself that can be used to access the current list item's fields through
<code>get_field()</code>. The list iterator object is internally a smart pointer,
among other things. You can clone it if you need multiple references to
a list.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Plugin.html" title="hexchat_api::Plugin struct">Plugin</a></td><td class="docblock-short"><p>Represents a created plugin entry. Plugins that embed other language
interpreters and load plugins written in those languages can have Hexchat
look as if the loaded scripts are actual plugins. By creating a <code>Plugin</code>
object for such a script, an entry is made in Hexchat's list of loaded
plugins. When one of these scripts is unloaded, the fictitious plugin entry
can be removed from Hexchat by dropping the associated <code>Plugin</code> object.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.PluginInfo.html" title="hexchat_api::PluginInfo struct">PluginInfo</a></td><td class="docblock-short"><p>Hexchat addons need to return an instance of this struct from their
<code>plugin_info()</code> function, which gets called when Hexchat loads the addons.
The <code>PluginInfo</code> object holds pinned internal buffers that Hexchat can
read from at its leisure.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ThreadSafeContext.html" title="hexchat_api::ThreadSafeContext struct">ThreadSafeContext</a></td><td class="docblock-short"><p>A thread-safe version of <code>Context</code>. Its methods automatically execute on
the Hexchat main thread. The full set of methods of <code>Context</code> aren't 
fully implemented for this struct because some can't be trusted to produce
predictable results from other threads. For instance <code>.set()</code> from a thread
would only cause Hexchat to momentarily set its context, but Hexchat's
context could change again at any moment while the other thread is 
executing.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ThreadSafeHexchat.html" title="hexchat_api::ThreadSafeHexchat struct">ThreadSafeHexchat</a></td><td class="docblock-short"><p>A thread-safe wrapper for the <code>Hexchat</code> object.
It implements a subset of the methods provided by the wrapped object.
A lot of methods don't make sense to expose; those that do should provide
enough utility to code that needs to invoke Hexchat from other threads.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ThreadSafeListIterator.html" title="hexchat_api::ThreadSafeListIterator struct">ThreadSafeListIterator</a></td><td class="docblock-short"><p>A thread-safe wrapper class for the Hexchat <code>ListIterator</code>. The methods
provided, internally execute on the Hexchat main thread without any
additional code necessary to make that happen in the client code.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.ChanFlag.html" title="hexchat_api::ChanFlag enum">ChanFlag</a></td><td class="docblock-short"><p>Channel flags.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ChanType.html" title="hexchat_api::ChanType enum">ChanType</a></td><td class="docblock-short"><p>Channel types.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ContextError.html" title="hexchat_api::ContextError enum">ContextError</a></td><td class="docblock-short"><p>The <code>Context</code> functions may encounter an error when invoked depending on
whether the network name and channel name they're bound to are currently
valid. </p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.DccStatus.html" title="hexchat_api::DccStatus enum">DccStatus</a></td><td class="docblock-short"><p>DCC status values.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.DccType.html" title="hexchat_api::DccType enum">DccType</a></td><td class="docblock-short"><p>DCC action type.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.Eat.html" title="hexchat_api::Eat enum">Eat</a></td><td class="docblock-short"><p>The return value for client plugin callbacks.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.FD.html" title="hexchat_api::FD enum">FD</a></td><td class="docblock-short"><p>File descriptor types.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.FieldValue.html" title="hexchat_api::FieldValue enum">FieldValue</a></td><td class="docblock-short"><p>Field Data Types</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.HexchatError.html" title="hexchat_api::HexchatError enum">HexchatError</a></td><td class="docblock-short"><p>Errors generated directly from the main Object, <code>Hexchat</code>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.IgnFlag.html" title="hexchat_api::IgnFlag enum">IgnFlag</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.ListError.html" title="hexchat_api::ListError enum">ListError</a></td><td class="docblock-short"><p>Errors</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.PrefValue.html" title="hexchat_api::PrefValue enum">PrefValue</a></td><td class="docblock-short"><p>Represents the values that can be accessed using the prefs functions of
the <code>Hexchat</code> object (<code>hc.pluginpref_get()</code>, <code>hc.pluginpref_get()</code>, etc.).
The enumeration enables the typing of the values stored and retrieved.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.Priority.html" title="hexchat_api::Priority enum">Priority</a></td><td class="docblock-short"><p>The priorty for a given callback invoked by Hexchat.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.StripFlags.html" title="hexchat_api::StripFlags enum">StripFlags</a></td><td class="docblock-short"><p>Used by the <code>hexthat.strip()</code> function to determine what to strip from the
target string.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.ThreadSafeFieldValue.html" title="hexchat_api::ThreadSafeFieldValue enum">ThreadSafeFieldValue</a></td><td class="docblock-short"><p>Thread-safe versions of the <code>FieldValue</code> variants provided by 
<code>ListIterator</code>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.UserData.html" title="hexchat_api::UserData enum">UserData</a></td><td class="docblock-short"><p>Represents the user data that is provided to callbacks when they're invoked.
A <code>UserData</code> object is registered with the callback using one of the
hook commands. The user data can be virtually any type that implements the
<code>Any</code> trait capable of being downcast to its original type. There are
four variants for the user data. Which one to use depends on how the
callback user data is shared. If the data is unique to one callback, then
<code>BoxedData</code> should be enough. For single threaded sharing among more than
one callback, <code>SharedData</code> will do the trick. If, for any odd sort of reason
threading somehow becomes relevant to the user data object, <code>SyncData</code> would
be the variant to use.</p>
</td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.IRC_BEEP.html" title="hexchat_api::IRC_BEEP constant">IRC_BEEP</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_BLACK.html" title="hexchat_api::IRC_BLACK constant">IRC_BLACK</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_BOLD.html" title="hexchat_api::IRC_BOLD constant">IRC_BOLD</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_CYAN.html" title="hexchat_api::IRC_CYAN constant">IRC_CYAN</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_GRAY.html" title="hexchat_api::IRC_GRAY constant">IRC_GRAY</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_GREEN.html" title="hexchat_api::IRC_GREEN constant">IRC_GREEN</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_HIDDEN.html" title="hexchat_api::IRC_HIDDEN constant">IRC_HIDDEN</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_ITALICS.html" title="hexchat_api::IRC_ITALICS constant">IRC_ITALICS</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_LIGHT_GRAY.html" title="hexchat_api::IRC_LIGHT_GRAY constant">IRC_LIGHT_GRAY</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_LIGHT_GREEN.html" title="hexchat_api::IRC_LIGHT_GREEN constant">IRC_LIGHT_GREEN</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_MAGENTA.html" title="hexchat_api::IRC_MAGENTA constant">IRC_MAGENTA</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_MAROON.html" title="hexchat_api::IRC_MAROON constant">IRC_MAROON</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_NAVY.html" title="hexchat_api::IRC_NAVY constant">IRC_NAVY</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_OLIVE.html" title="hexchat_api::IRC_OLIVE constant">IRC_OLIVE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_ORIG_ATTRIBS.html" title="hexchat_api::IRC_ORIG_ATTRIBS constant">IRC_ORIG_ATTRIBS</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_PURPLE.html" title="hexchat_api::IRC_PURPLE constant">IRC_PURPLE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_RED.html" title="hexchat_api::IRC_RED constant">IRC_RED</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_REVERSE_COLOR.html" title="hexchat_api::IRC_REVERSE_COLOR constant">IRC_REVERSE_COLOR</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_ROYAL_BLUE.html" title="hexchat_api::IRC_ROYAL_BLUE constant">IRC_ROYAL_BLUE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_TEAL.html" title="hexchat_api::IRC_TEAL constant">IRC_TEAL</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_UNDERLINE.html" title="hexchat_api::IRC_UNDERLINE constant">IRC_UNDERLINE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_WHITE.html" title="hexchat_api::IRC_WHITE constant">IRC_WHITE</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="constant" href="constant.IRC_YELLOW.html" title="hexchat_api::IRC_YELLOW constant">IRC_YELLOW</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.lib_get_info.html" title="hexchat_api::lib_get_info fn">lib_get_info</a></td><td class="docblock-short"><p>This function sets Hexchat's character pointer pointer's to point at the
pinned buffers holding info about a plugin. Not to be called by plugin
authors - it's only public because <code>dll_entry_points()</code> generates code
that calls this.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.lib_hexchat_plugin_deinit.html" title="hexchat_api::lib_hexchat_plugin_deinit fn">lib_hexchat_plugin_deinit</a></td><td class="docblock-short"><p>Invoked indirectly while a plugin is being unloaded. This function will
call the deinitialization function that was registered using the
<code>dll_entry_points()</code> macro. It will also unhook all the callbacks
currently registered forcing them, and their closure state, to drop and
thus clean up. Plugin authors should not call this - it's only public 
because <code>dll_entry_points()</code> generates code that needs this.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.lib_hexchat_plugin_get_info.html" title="hexchat_api::lib_hexchat_plugin_get_info fn">lib_hexchat_plugin_get_info</a></td><td class="docblock-short"><p>Called indirectly when a plugin is loaded to get info about it. The
plugin author shouldn't invoke this fuction - it's only public because
the <code>dll_entry_points()</code> macro generates code that calls this.
This function calls the client plugin's <code>plugin_get_info()</code> indirectly to
obtain the persistent plugin info strings that it sets the paramters to.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.lib_hexchat_plugin_init.html" title="hexchat_api::lib_hexchat_plugin_init fn">lib_hexchat_plugin_init</a></td><td class="docblock-short"><p>Called indirectly while a plugin is being loaded. The
plugin author shouldn't invoke this fuction - it's only public because
the <code>dll_entry_points()</code> macro generates code that calls this.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.main_thread.html" title="hexchat_api::main_thread fn">main_thread</a></td><td class="docblock-short"><p>Executes a closure from the Hexchat main thread. This function returns
immediately with an AsyncResult object that can be used to retrieve the
result of the operation that will run on the main thread.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.turn_off_threadsafe_features.html" title="hexchat_api::turn_off_threadsafe_features fn">turn_off_threadsafe_features</a></td><td class="docblock-short"><p>Stops and removes the main thread task queue handler. Otherwise it will
keep checking the queue while doing nothing useful - which isn't 
necessarily bad. Performance is unaffected either way.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.DeinitFn.html" title="hexchat_api::DeinitFn type">DeinitFn</a></td><td class="docblock-short"><p>The signature for the deinit function plugin authors need to register using
<code>dll_entry_points!()</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.InfoFn.html" title="hexchat_api::InfoFn type">InfoFn</a></td><td class="docblock-short"><p>The signature of the info function plugin authors need to register using
<code>dll_entry_points!()</code>.</p>
</td></tr><tr class="module-item"><td><a class="type" href="type.InitFn.html" title="hexchat_api::InitFn type">InitFn</a></td><td class="docblock-short"><p>The signature for the init function that plugin authors need to register
using <code>dll_entry_points!()</code>.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "hexchat_api";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>