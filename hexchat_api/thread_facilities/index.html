<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `thread_facilities` mod in crate `hexchat_api`."><meta name="keywords" content="rust, rustlang, rust-lang, thread_facilities"><title>hexchat_api::thread_facilities - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../hexchat_api/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module thread_facilities</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#reexports">Re-exports</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../index.html">hexchat_api</a></p><script>window.sidebarCurrent = {name: "thread_facilities", ty: "mod", relpath: "../"};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/hexchat_api/thread_facilities.rs.html#2-102" title="goto source code">[src]</a></span><span class="in-band">Module <a href="../index.html">hexchat_api</a>::<wbr><a class="mod" href="">thread_facilities</a></span></h1><div class="docblock"><p>This module provides facilities for accessing Hexchat from routines<br />
running on threads other than Hexchat's main thread. </p>
<p>Hexchat's plugin API isn't inherently thread-safe, however plugins
can spawn separate threads and invoke Hexchat's API by placing routines
to execute on Hexchat's main thread. </p>
<p><code>main_thread()</code> makes it easy to declare a function, or closure, that 
contains Hexchat API calls. Once executed, it uses the timer feature
of Hexchat to delegate. The function or closure can return any sendable
cloneable value, and <code>main_thread()</code> will pass that back to the calling
thread via an <code>AsyncResult</code> object. This can either be ignored, and 
the thread can continue doing other work, or <code>AsyncResult.get()</code> can be
invoked on the result object; this call will block until the main thread
has finished executing the callback.</p>
</div><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<table><tr><td><code>use std::sync::<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>;</code></td></tr><tr><td><code>use std::sync::<a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/condvar/struct.Condvar.html" title="struct std::sync::condvar::Condvar">Condvar</a>;</code></td></tr><tr><td><code>use std::sync::<a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>;</code></td></tr><tr><td><code>use crate::hexchat::<a class="struct" href="../../hexchat_api/struct.Hexchat.html" title="struct hexchat_api::Hexchat">Hexchat</a>;</code></td></tr><tr><td><code>use crate::hexchat_entry_points::<a class="static" href="../../hexchat_api/hexchat_entry_points/static.HEXCHAT.html" title="static hexchat_api::hexchat_entry_points::HEXCHAT">HEXCHAT</a>;</code></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.AsyncResult.html" title="hexchat_api::thread_facilities::AsyncResult struct">AsyncResult</a></td><td class="docblock-short"><p>A result object that allows callbacks operating on a thread to send their
return value to a receiver calling <code>get()</code> from another thread. Whether
return data needs to be transferred or not, this object can be used to wait
on the completion of a callback, thus providing synchronization between
threads.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.main_thread.html" title="hexchat_api::thread_facilities::main_thread fn">main_thread</a></td><td class="docblock-short"><p>Executes a closure from the Hexchat main thread. This function returns
immediately with an AsyncResult object that can be used to retrieve the
result of the operation that will run on the main thread.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "hexchat_api";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>