<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`dll_entry_points()` makes it very easy to set up your plugin’s DLL interface required by the Hexchat loader. This macro generates the necessary DLL entry points that Hexchat looks for when a DLL is being loaded. Normal Rust functions having the required signatures can be passed to the macro like so:"><title>dll_entry_points in hexchat_api - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="hexchat_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.1 (4eb161250 2025-03-15)" data-channel="1.85.1" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc macro"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../hexchat_api/index.html">hexchat_<wbr>api</a><span class="version">0.3.6</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">dll_<wbr>entry_<wbr>points</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#the-signatures-for-the-functions-are" title="The signatures for the functions are:">The signatures for the functions are:</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate hexchat_<wbr>api</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">hexchat_api</a></span><h1>Macro <span class="macro">dll_entry_points</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/hexchat_api/hexchat_entry_points.rs.html#86-123">Source</a> </span></div><pre class="rust item-decl"><code>macro_rules! dll_entry_points {
    ( $info:ident, $init:ident, $deinit:ident ) =&gt; { ... };
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><code>dll_entry_points()</code> makes it very easy to set up your plugin’s DLL
interface required by the Hexchat loader. This macro generates the necessary
DLL entry points that Hexchat looks for when a DLL is being loaded.
Normal Rust functions having the required signatures can be passed to the
macro like so:</p>
<p><code>dll_entry_points!( my_info_func, my_init_func, my_deinit_func )</code></p>
<p>That’s it. You don’t need to worry about how to export your Rust functions
to interface with the C environment of Hexchat. This macro does it all for
you.</p>
<h2 id="the-signatures-for-the-functions-are"><a class="doc-anchor" href="#the-signatures-for-the-functions-are">§</a>The signatures for the functions are:</h2>
<ul>
<li><code>my_info_func  ()                 -&gt; PluginInfo;</code></li>
<li><code>my_init_func  (&amp;'static Hexchat) -&gt; i32;</code></li>
<li><code>my_deinit_func(&amp;'static Hexchat) -&gt; i32;</code></li>
</ul>
<p>The <strong>info function</strong> should create an instance of <code>PluginInfo</code> by calling
its constructor with information about the plugin as parameters.</p>
<p>The <strong>init function</strong> is typically where you’ll want to register your
plugin’s commands. Hook commands are provided by the <code>&amp;Hexchat</code> reference
provided as a paramter when your init function is called by Hexchat. The
init function needs to return either 0 (good) or 1 (error).</p>
<p>The <strong>deinit function</strong> gets called when your plugin is unloaded. Return a
0 (good) or 1 (error). Any cleanup actions needed to be done can be done
here. However, when your  DLL is unloaded by Hexchat, all its hooked
commands are unhooked automatically - so you don’t need to worry about
managing the <code>Hook</code> objects returned by the hook commands unless you’re
plugin needs to for some reason. If your plugin creates any static
variables, This is the place to drop their values, for example:
<code>MY_STATIC_VAR = None;</code></p>
</div></details></section></div></main></body></html>