<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate provides a Rust interface to the Hexchat Plugin Interface The primary object of the interface is Hexchat, which exposes an interface with functions that mirror the C functions listed on the Hexchat docs page linked above."><title>hexchat_api - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="hexchat_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../hexchat_api/index.html">hexchat_api</a><span class="version">0.3.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">hexchat_api</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/hexchat_api/lib.rs.html#2-46">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate provides a Rust interface to the
<a href="https://hexchat.readthedocs.io/en/latest/plugins.html">Hexchat Plugin Interface</a>
The primary object of the interface is
<a href="struct.Hexchat.html" title="struct hexchat_api::Hexchat">Hexchat</a>,
which exposes an interface with functions that mirror the C functions
listed on the Hexchat docs page linked above.</p>
</div></details><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.dll_entry_points.html" title="macro hexchat_api::dll_entry_points">dll_entry_points</a></div><div class="desc docblock-short"><code>dll_entry_points()</code> makes it very easy to set up your plugin’s DLL
interface required by the Hexchat loader. This macro generates the necessary
DLL entry points that Hexchat looks for when a DLL is being loaded.
Normal Rust functions having the required signatures can be passed to the
macro like so:</div></li><li><div class="item-name"><a class="macro" href="macro.hc_command.html" title="macro hexchat_api::hc_command">hc_command</a></div><div class="desc docblock-short">Executes a command in the active Hexchat window. Provided for convenience
to support formatted string commands.</div></li><li><div class="item-name"><a class="macro" href="macro.hc_command_th.html" title="macro hexchat_api::hc_command_th">hc_command_th</a></div><div class="desc docblock-short">Executes a command on the main thread. This is useful for executing
commands from spawned threads.</div></li><li><div class="item-name"><a class="macro" href="macro.hc_print.html" title="macro hexchat_api::hc_print">hc_print</a></div><div class="desc docblock-short">Reduces the syntax required to output formatted text to the current
hexchat window. Internally it invokes
<code>hexchat.print(&amp;format!(&quot;&lt;format-string&gt;&quot;, arg1, arg2, ...)</code>.
Using the macro, this becomes
<code>hc_print!(&quot;&lt;format_string&gt;&quot;, arg1, arg2, ...)</code>. To print from another
thread <code>hc_print_th!()</code> can be used.</div></li><li><div class="item-name"><a class="macro" href="macro.hc_print_th.html" title="macro hexchat_api::hc_print_th">hc_print_th</a></div><div class="desc docblock-short">Similar to <code>hc_print!()</code>, that can be used from spawned threads to print to
the active Hexchat window. This should not be invoked from the Hexchat
main thread.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AsyncResult.html" title="struct hexchat_api::AsyncResult">AsyncResult</a></div><div class="desc docblock-short">A result object that allows callbacks operating on a thread to send their
return value to a receiver calling <code>get()</code> from another thread. Whether
return data needs to be transferred or not, this object can be used to wait
on the completion of a callback, thus providing synchronization between
threads.</div></li><li><div class="item-name"><a class="struct" href="struct.Context.html" title="struct hexchat_api::Context">Context</a></div><div class="desc docblock-short">Any channel in Hexchat has an associated IRC network name and channel name.
The network name and channel name are closely associated with the Hexchat
concept of contexts. Hexchat contexts can also be thought of as the
tabs, or windows, open in the UI that have the user joined to their various
“chat rooms”. To access a specific chat window in Hexchat, its context
can be acquired and used. This library’s <code>Context</code> objects represent the
Hexchat contexts and can be used to interact with the specific
channels/windows/tabs that he user has open. For instance if your plugin
needs to output only to specific channels, rather than the default window
(which is the one currently open) - it can acquire the appropriate context
using <code>Context::find(&quot;some-network&quot;, &quot;some-channel&quot;)</code>, and use the object
returned to invoke a command, <code>context.command(&quot;SAY hello!&quot;)</code>, or print,
<code>context.print(&quot;Hello!&quot;)</code>, or perform other operations.</div></li><li><div class="item-name"><a class="struct" href="struct.EventAttrs.html" title="struct hexchat_api::EventAttrs">EventAttrs</a></div><div class="desc docblock-short">Mirrors the C struct for <code>hexchat_event_attrs</code>. It holds the timestamps
for the callback invocations for callbacks registered using
<code>hexchat_print_attrs()</code>, and similar commands.</div></li><li><div class="item-name"><a class="struct" href="struct.Hexchat.html" title="struct hexchat_api::Hexchat">Hexchat</a></div><div class="desc docblock-short">This struct mirrors the C Hexchat struct passed to the plugin from
Hexchat when the plugin is loaded. Hexchat’s API is implemented as a struct
holding callbacks to its native functions. <em>Don’t modify</em> this struct,
unless there has been a change to the layout of it in the Hexchat C code
base.</div></li><li><div class="item-name"><a class="struct" href="struct.Hook.html" title="struct hexchat_api::Hook">Hook</a></div><div class="desc docblock-short">A wrapper for Hexchat callback hooks. These hooks are returned when
registering callbacks and can be used to unregister (unhook) them.
<code>Hook</code>s can be cloned to share a reference to the same callback hook.</div></li><li><div class="item-name"><a class="struct" href="struct.ListItem.html" title="struct hexchat_api::ListItem">ListItem</a></div><div class="desc docblock-short">An eagerly constructed list item for vectors created from a <code>ListIterator</code>.
For <code>ThreadSafeListIterator</code> it can sometimes be quicker to eagerly convert
it to a <code>Vec&lt;ListItem&gt;</code> using <code>ThreadSafeListIterator.to_vec()</code> and then
iterate over the resulting vector. The conversion happens on the main thread
and is done all at once.</div></li><li><div class="item-name"><a class="struct" href="struct.ListIterator.html" title="struct hexchat_api::ListIterator">ListIterator</a></div><div class="desc docblock-short">The <code>ListIterator</code> wraps the list pointer and related functions of Hexchat.
It provides are more Rust OO interface. The iterator returns clones of
itself that can be used to access the current list item’s fields through
<code>get_field()</code>. The list iterator object is internally a smart pointer,
among other things. You can clone it if you need multiple references to
a list.</div></li><li><div class="item-name"><a class="struct" href="struct.Plugin.html" title="struct hexchat_api::Plugin">Plugin</a></div><div class="desc docblock-short">Represents a created plugin entry. Plugins that embed other language
interpreters and load plugins written in those languages can have Hexchat
look as if the loaded scripts are actual plugins. By creating a <code>Plugin</code>
object for such a script, an entry is made in Hexchat’s list of loaded
plugins. When one of these scripts is unloaded, the fictitious plugin entry
can be removed from Hexchat by dropping the associated <code>Plugin</code> object.</div></li><li><div class="item-name"><a class="struct" href="struct.PluginInfo.html" title="struct hexchat_api::PluginInfo">PluginInfo</a></div><div class="desc docblock-short">Hexchat addons need to return an instance of this struct from their
<code>plugin_info()</code> function, which gets called when Hexchat loads the addons.
The <code>PluginInfo</code> object holds pinned internal buffers that Hexchat can
read from at its leisure.</div></li><li><div class="item-name"><a class="struct" href="struct.TaskError.html" title="struct hexchat_api::TaskError">TaskError</a></div><div class="desc docblock-short">An error type that can be used to indicate that a task failed. Currently,
this is only used when the task queue is being shut down. This happens
when Hexchat is closing or the addon is being unloaded.</div></li><li><div class="item-name"><a class="struct" href="struct.ThreadSafeContext.html" title="struct hexchat_api::ThreadSafeContext">ThreadSafeContext</a></div><div class="desc docblock-short">A thread-safe version of <code>Context</code>. Its methods automatically execute on
the Hexchat main thread. The full set of methods of <code>Context</code> aren’t
fully implemented for this struct because some can’t be trusted to produce
predictable results from other threads. For instance <code>.set()</code> from a thread
would only cause Hexchat to momentarily set its context, but Hexchat’s
context could change again at any moment while the other thread is
executing.</div></li><li><div class="item-name"><a class="struct" href="struct.ThreadSafeHexchat.html" title="struct hexchat_api::ThreadSafeHexchat">ThreadSafeHexchat</a></div><div class="desc docblock-short">A thread-safe wrapper for the <code>Hexchat</code> object.
It implements a subset of the methods provided by the wrapped object.
A lot of methods don’t make sense to expose; those that do should provide
enough utility to code that needs to invoke Hexchat from other threads.</div></li><li><div class="item-name"><a class="struct" href="struct.ThreadSafeListIterator.html" title="struct hexchat_api::ThreadSafeListIterator">ThreadSafeListIterator</a></div><div class="desc docblock-short">A thread-safe wrapper class for the Hexchat <code>ListIterator</code>. The methods
provided, internally execute on the Hexchat main thread without any
additional code necessary to make that happen in the client code.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ChanFlag.html" title="enum hexchat_api::ChanFlag">ChanFlag</a></div><div class="desc docblock-short">Channel flags.</div></li><li><div class="item-name"><a class="enum" href="enum.ChanType.html" title="enum hexchat_api::ChanType">ChanType</a></div><div class="desc docblock-short">Channel types.</div></li><li><div class="item-name"><a class="enum" href="enum.ContextError.html" title="enum hexchat_api::ContextError">ContextError</a></div><div class="desc docblock-short">The <code>Context</code> functions may encounter an error when invoked depending on
whether the network name and channel name they’re bound to are currently
valid.</div></li><li><div class="item-name"><a class="enum" href="enum.DccStatus.html" title="enum hexchat_api::DccStatus">DccStatus</a></div><div class="desc docblock-short">DCC status values.</div></li><li><div class="item-name"><a class="enum" href="enum.DccType.html" title="enum hexchat_api::DccType">DccType</a></div><div class="desc docblock-short">DCC action type.</div></li><li><div class="item-name"><a class="enum" href="enum.Eat.html" title="enum hexchat_api::Eat">Eat</a></div><div class="desc docblock-short">The return value for client plugin callbacks.</div></li><li><div class="item-name"><a class="enum" href="enum.FD.html" title="enum hexchat_api::FD">FD</a></div><div class="desc docblock-short">File descriptor types.</div></li><li><div class="item-name"><a class="enum" href="enum.FieldValue.html" title="enum hexchat_api::FieldValue">FieldValue</a></div><div class="desc docblock-short">Field Data Types</div></li><li><div class="item-name"><a class="enum" href="enum.HexchatError.html" title="enum hexchat_api::HexchatError">HexchatError</a></div><div class="desc docblock-short">Errors generated directly from the main Object, <code>Hexchat</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.IgnFlag.html" title="enum hexchat_api::IgnFlag">IgnFlag</a></div></li><li><div class="item-name"><a class="enum" href="enum.ListError.html" title="enum hexchat_api::ListError">ListError</a></div><div class="desc docblock-short">Errors</div></li><li><div class="item-name"><a class="enum" href="enum.PrefValue.html" title="enum hexchat_api::PrefValue">PrefValue</a></div><div class="desc docblock-short">Represents the values that can be accessed using the prefs functions of
the <code>Hexchat</code> object (<code>hc.pluginpref_get()</code>, <code>hc.pluginpref_get()</code>, etc.).
The enumeration enables the typing of the values stored and retrieved.</div></li><li><div class="item-name"><a class="enum" href="enum.Priority.html" title="enum hexchat_api::Priority">Priority</a></div><div class="desc docblock-short">The priorty for a given callback invoked by Hexchat.</div></li><li><div class="item-name"><a class="enum" href="enum.StripFlags.html" title="enum hexchat_api::StripFlags">StripFlags</a></div><div class="desc docblock-short">Used by the <code>hexthat.strip()</code> function to determine what to strip from the
target string.</div></li><li><div class="item-name"><a class="enum" href="enum.ThreadSafeFieldValue.html" title="enum hexchat_api::ThreadSafeFieldValue">ThreadSafeFieldValue</a></div><div class="desc docblock-short">Thread-safe versions of the <code>FieldValue</code> variants provided by
<code>ListIterator</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.UserData.html" title="enum hexchat_api::UserData">UserData</a></div><div class="desc docblock-short">Represents the user data that is provided to callbacks when they’re invoked.
A <code>UserData</code> object is registered with the callback using one of the
hook commands. The user data can be virtually any type that implements the
<code>Any</code> trait capable of being downcast to its original type. There are
four variants for the user data. Which one to use depends on how the
callback user data is shared. If the data is unique to one callback, then
<code>BoxedData</code> should be enough. For single threaded sharing among more than
one callback, <code>SharedData</code> will do the trick. If, for any odd sort of reason
threading somehow becomes relevant to the user data object, <code>SyncData</code> would
be the variant to use.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.IRC_BEEP.html" title="constant hexchat_api::IRC_BEEP">IRC_BEEP</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_BLACK.html" title="constant hexchat_api::IRC_BLACK">IRC_BLACK</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_BOLD.html" title="constant hexchat_api::IRC_BOLD">IRC_BOLD</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_CYAN.html" title="constant hexchat_api::IRC_CYAN">IRC_CYAN</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_GRAY.html" title="constant hexchat_api::IRC_GRAY">IRC_GRAY</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_GREEN.html" title="constant hexchat_api::IRC_GREEN">IRC_GREEN</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_HIDDEN.html" title="constant hexchat_api::IRC_HIDDEN">IRC_HIDDEN</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_ITALICS.html" title="constant hexchat_api::IRC_ITALICS">IRC_ITALICS</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_LIGHT_GRAY.html" title="constant hexchat_api::IRC_LIGHT_GRAY">IRC_LIGHT_GRAY</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_LIGHT_GREEN.html" title="constant hexchat_api::IRC_LIGHT_GREEN">IRC_LIGHT_GREEN</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_MAGENTA.html" title="constant hexchat_api::IRC_MAGENTA">IRC_MAGENTA</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_MAROON.html" title="constant hexchat_api::IRC_MAROON">IRC_MAROON</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_NAVY.html" title="constant hexchat_api::IRC_NAVY">IRC_NAVY</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_OLIVE.html" title="constant hexchat_api::IRC_OLIVE">IRC_OLIVE</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_ORIG_ATTRIBS.html" title="constant hexchat_api::IRC_ORIG_ATTRIBS">IRC_ORIG_ATTRIBS</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_PURPLE.html" title="constant hexchat_api::IRC_PURPLE">IRC_PURPLE</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_RED.html" title="constant hexchat_api::IRC_RED">IRC_RED</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_REVERSE_COLOR.html" title="constant hexchat_api::IRC_REVERSE_COLOR">IRC_REVERSE_COLOR</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_ROYAL_BLUE.html" title="constant hexchat_api::IRC_ROYAL_BLUE">IRC_ROYAL_BLUE</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_TEAL.html" title="constant hexchat_api::IRC_TEAL">IRC_TEAL</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_UNDERLINE.html" title="constant hexchat_api::IRC_UNDERLINE">IRC_UNDERLINE</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_WHITE.html" title="constant hexchat_api::IRC_WHITE">IRC_WHITE</a></div></li><li><div class="item-name"><a class="constant" href="constant.IRC_YELLOW.html" title="constant hexchat_api::IRC_YELLOW">IRC_YELLOW</a></div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.main_thread.html" title="fn hexchat_api::main_thread">main_thread</a></div><div class="desc docblock-short">Executes a closure from the Hexchat main thread. This function returns
immediately with an AsyncResult object that can be used to retrieve the
result of the operation that will run on the main thread.</div></li><li><div class="item-name"><a class="fn" href="fn.turn_off_threadsafe_features.html" title="fn hexchat_api::turn_off_threadsafe_features">turn_off_threadsafe_features</a><sup title="unsafe function">⚠</sup><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Stops and removes the main thread task queue handler. Otherwise it will
keep checking the queue while doing nothing useful - which isn’t
necessarily bad. Performance is unaffected either way.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DeinitFn.html" title="type hexchat_api::DeinitFn">DeinitFn</a></div><div class="desc docblock-short">The signature for the deinit function plugin authors need to register using
<code>dll_entry_points!()</code>.</div></li><li><div class="item-name"><a class="type" href="type.InfoFn.html" title="type hexchat_api::InfoFn">InfoFn</a></div><div class="desc docblock-short">The signature of the info function plugin authors need to register using
<code>dll_entry_points!()</code>.</div></li><li><div class="item-name"><a class="type" href="type.InitFn.html" title="type hexchat_api::InitFn">InitFn</a></div><div class="desc docblock-short">The signature for the init function that plugin authors need to register
using <code>dll_entry_points!()</code>.</div></li></ul></section></div></main></body></html>